<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HyperFixi Interactive Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      min-height: 100vh;
      box-shadow: 0 0 30px rgba(0,0,0,0.1);
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, #2563eb, #1e40af);
      color: white;
      padding: 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="white" opacity="0.1"/><circle cx="80" cy="40" r="1" fill="white" opacity="0.1"/><circle cx="40" cy="80" r="1.5" fill="white" opacity="0.1"/></svg>');
      pointer-events: none;
    }

    .header h1 {
      font-size: 3rem;
      margin-bottom: 0.5rem;
      z-index: 1;
      position: relative;
    }

    .header p {
      font-size: 1.2rem;
      opacity: 0.9;
      z-index: 1;
      position: relative;
    }

    /* Navigation */
    .nav {
      background: #f8fafc;
      border-bottom: 1px solid #e2e8f0;
      padding: 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .nav-container {
      display: flex;
      max-width: 1400px;
      margin: 0 auto;
    }

    .nav-item {
      flex: 1;
      text-align: center;
    }

    .nav-button {
      display: block;
      width: 100%;
      padding: 1rem;
      background: transparent;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      color: #64748b;
      transition: all 0.2s;
      border-bottom: 3px solid transparent;
    }

    .nav-button:hover {
      background: #e2e8f0;
      color: #334155;
    }

    .nav-button.active {
      background: white;
      color: #2563eb;
      border-bottom-color: #2563eb;
    }

    /* Main Content */
    .main {
      display: flex;
      min-height: calc(100vh - 200px);
    }

    .content {
      flex: 1;
      padding: 2rem;
    }

    .category {
      display: none;
    }

    .category.active {
      display: block;
    }

    .category h2 {
      color: #1e293b;
      margin-bottom: 1.5rem;
      font-size: 2rem;
    }

    .category p {
      color: #64748b;
      margin-bottom: 2rem;
      font-size: 1.1rem;
      line-height: 1.6;
    }

    /* Demo Grid */
    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .demo-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .demo-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .demo-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 0.5rem;
    }

    .demo-description {
      color: #64748b;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .demo-area {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
    }

    /* Interactive Elements */
    .interactive-button {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.3s;
      margin: 0.25rem;
    }

    .interactive-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    }

    .interactive-input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 0.9rem;
      margin: 0.25rem 0;
    }

    .interactive-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    /* Status and Visual Feedback */
    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 0.5rem;
    }

    .status-success { background: #10b981; }
    .status-error { background: #ef4444; }
    .status-warning { background: #f59e0b; }
    .status-info { background: #3b82f6; }

    .result-display {
      background: #1e293b;
      color: #e2e8f0;
      font-family: 'Courier New', monospace;
      font-size: 0.8rem;
      padding: 1rem;
      border-radius: 6px;
      margin-top: 0.5rem;
      white-space: pre-wrap;
      max-height: 200px;
      overflow-y: auto;
    }

    /* Debugging Panel */
    .debug-panel {
      position: fixed;
      bottom: 0;
      right: 0;
      width: 400px;
      max-height: 300px;
      background: #1e293b;
      color: #e2e8f0;
      border-top-left-radius: 12px;
      box-shadow: 0 -4px 12px rgba(0,0,0,0.3);
      transform: translateY(calc(100% - 40px));
      transition: transform 0.3s;
      z-index: 200;
    }

    .debug-panel.open {
      transform: translateY(0);
    }

    .debug-header {
      background: #334155;
      padding: 0.75rem 1rem;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .debug-content {
      padding: 1rem;
      max-height: 240px;
      overflow-y: auto;
      font-family: 'Courier New', monospace;
      font-size: 0.75rem;
    }

    .debug-entry {
      margin-bottom: 0.5rem;
      padding: 0.25rem 0;
      border-bottom: 1px solid #475569;
    }

    .debug-timestamp {
      color: #94a3b8;
      font-size: 0.7rem;
    }

    /* Color Animation Classes */
    .flash-success {
      animation: flashGreen 0.6s ease;
    }

    .flash-error {
      animation: flashRed 0.6s ease;
    }

    .flash-info {
      animation: flashBlue 0.6s ease;
    }

    .flash-warning {
      animation: flashYellow 0.6s ease;
    }

    /* Test Classes for Keyword Demo */
    .hidden {
      opacity: 0.3;
      transform: scale(0.95);
    }

    .highlight-active {
      background: #fef3c7 !important;
      border-color: #f59e0b !important;
      box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
    }

    .highlight-success {
      background: #dcfce7 !important;
      border-color: #22c55e !important;
      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.2);
    }

    @keyframes flashGreen {
      0%, 100% { background-color: transparent; }
      50% { background-color: rgba(16, 185, 129, 0.2); }
    }

    @keyframes flashRed {
      0%, 100% { background-color: transparent; }
      50% { background-color: rgba(239, 68, 68, 0.2); }
    }

    @keyframes flashBlue {
      0%, 100% { background-color: transparent; }
      50% { background-color: rgba(59, 130, 246, 0.2); }
    }

    @keyframes flashYellow {
      0%, 100% { background-color: transparent; }
      50% { background-color: rgba(245, 158, 11, 0.2); }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .nav-container {
        flex-wrap: wrap;
      }
      
      .nav-button {
        font-size: 0.8rem;
        padding: 0.75rem;
      }

      .demo-grid {
        grid-template-columns: 1fr;
      }

      .debug-panel {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>üöÄ HyperFixi Interactive Demo</h1>
      <p>Experience the power of hyperscript expressions and commands</p>
      <!-- Debug Status Display -->
      <div id="debug-status" style="background: rgba(0,0,0,0.2); color: white; padding: 0.5rem; margin-top: 1rem; border-radius: 4px; font-family: monospace; font-size: 0.8rem;">
        Loading HyperFixi...
      </div>
    </div>

    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-container">
        <div class="nav-item">
          <button class="nav-button active" 
                  _="on click show #expressions">
            üìä Expressions  
          </button>
        </div>
        <div class="nav-item">
          <button class="nav-button"
                  _="on click show #dom-commands">
            üéØ DOM Commands
          </button>
        </div>
        <div class="nav-item">
          <button class="nav-button"
                  _="on click show #events">
            ‚ö° Events & Async
          </button>
        </div>
        <div class="nav-item">
          <button class="nav-button"
                  _="on click show #forms">
            üìù Forms & Validation
          </button>
        </div>
        <div class="nav-item">
          <button class="nav-button"
                  _="on click show #i18n">
            üåç Internationalization
          </button>
        </div>
        <div class="nav-item">
          <button class="nav-button"
                  _="on click show #advanced">
            üîß Advanced Features
          </button>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
      <div class="content">
        <!-- HyperFixi Live Tests -->
        <section id="expressions" class="category active">
          <h2>üß™ HyperFixi Live Feature Tests</h2>
          <p>Systematic testing of hyperscript features for parity verification.</p>
          
          <div class="demo-grid">
            <!-- Basic DOM Commands -->
            <div class="demo-card">
              <div class="demo-title">‚úÖ Basic DOM Commands</div>
              <div class="demo-description">hide, show, toggle - Core visibility commands</div>
              <div class="demo-area">
                <button class="interactive-button" id="hide-btn"
                        _="on click beep! 'Hide test' then hide me">
                  Hide Me
                </button>
                <button class="interactive-button" 
                        _="on click beep! 'Show test' then show #hide-btn">
                  Show Hidden Button
                </button>
                <button class="interactive-button" id="toggle-target"
                        _="on click beep! 'Toggle test' then toggle me">
                  Toggle Me
                </button>
              </div>
            </div>

            <!-- CSS Class Manipulation -->
            <div class="demo-card">
              <div class="demo-title">‚ùì CSS Class Commands</div>
              <div class="demo-description">add, remove - CSS class manipulation</div>
              <div class="demo-area">
                <button class="interactive-button" id="class-target"
                        _="on click beep! 'Add class test' then add .highlight-success to me then put 'Class added!' into #class-result">
                  Add Success Class
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Remove class test' then remove .highlight-success from #class-target then put 'Class removed!' into #class-result">
                  Remove Success Class
                </button>
                <div class="result-display" id="class-result">Click buttons to test class manipulation</div>
              </div>
            </div>

            <!-- Content Manipulation -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Content Commands</div>
              <div class="demo-description">put - Content insertion (testing compound syntax)</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'Put self test' then put 'Self works!' into me">
                  Put into Self
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Put target test' then put 'FIXED! Target works!' into #content-result">
                  Put into Target (FIXED!)
                </button>
                <div class="result-display" id="content-result">Testing put commands...</div>
              </div>
            </div>

            <!-- Event Handling -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Event Commands</div>
              <div class="demo-description">trigger, send - Event dispatching</div>
              <div class="demo-area">
                <button class="interactive-button" id="event-listener"
                        _="on customEvent beep! 'Custom event received!' then put 'Event received!' into #event-result">
                  Event Listener
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Trigger test' then trigger customEvent on #event-listener then put 'Event triggered!' into #event-result">
                  Trigger Custom Event (FIXED!)
                </button>
                <div class="result-display" id="event-result">Testing event system...</div>
              </div>
            </div>

            <!-- Variables and Expressions -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Variables & Expressions</div>
              <div class="demo-description">set, variables, math expressions</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'Set variable test' then set x to 42 then put x into #var-result">
                  Set Variable x=42 (FIXED!)
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Math test' then set result to 5 + 3 * 2 then put result into #var-result">
                  Math: 5 + 3 * 2 (FIXED!)
                </button>
                <div class="result-display" id="var-result">Testing variables and math...</div>
              </div>
            </div>

            <!-- Wait and Timing -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Async Commands</div>
              <div class="demo-description">wait - Timing and delays</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'Wait test' then put 'Waiting...' into #wait-result then wait 2s then put 'Done after 2s!' into #wait-result">
                  Wait 2 Seconds
                </button>
                <div class="result-display" id="wait-result">Testing async operations...</div>
              </div>
            </div>

            <!-- Form Handling -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Form Commands</div>
              <div class="demo-description">Form values, take, as Values</div>
              <div class="demo-area">
                <input type="text" id="test-input" placeholder="Enter text here" style="width: 100%; margin-bottom: 10px;">
                <button class="interactive-button"
                        _="on click beep! 'Take test' then take my value from #test-input then put it into #form-result">
                  Take Input Value
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Value test' then put #test-input's value into #form-result">
                  Get Input Value
                </button>
                <div class="result-display" id="form-result">Testing form handling...</div>
              </div>
            </div>

            <!-- Advanced Expressions -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Advanced Expressions</div>
              <div class="demo-description">Possessive syntax, selectors, context</div>
              <div class="demo-area">
                <button class="interactive-button" data-test="advanced"
                        _="on click beep! 'Possessive test' then put my @data-test into #expr-result">
                  Test my @data-test
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Selector test' then put first <button/> into #expr-result">
                  Test first &lt;button/&gt;
                </button>
                <div class="result-display" id="expr-result">Testing advanced expressions...</div>
              </div>
            </div>

            <!-- Control Flow -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Control Flow</div>
              <div class="demo-description">if/else, conditions, loops</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'If test' then if 5 > 3 put 'Condition true!' into #control-result else put 'Condition false!' into #control-result">
                  Test if 5 > 3
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Unless test' then unless false put 'Unless works!' into #control-result">
                  Test unless false
                </button>
                <div class="result-display" id="control-result">Testing control flow...</div>
              </div>
            </div>

            <!-- Manual Debug Test -->
            <div class="demo-card">
              <div class="demo-title">üîß Manual Debug Test</div>
              <div class="demo-description">Trigger compound syntax debugging manually</div>
              <div class="demo-area">
                <button class="interactive-button" id="debug-test-btn"
                        onclick="window.testCompoundSyntax()">
                  üß™ Run Compound Syntax Debug Test
                </button>
                <button class="interactive-button"
                        onclick="console.log('üîç PARSER: Manual test log'); console.log('üöÄ RUNTIME: Manual runtime test');">
                  üìù Test Debug Console Capture
                </button>
                <div class="result-display" id="debug-test-result">Click to run debug tests...</div>
              </div>
            </div>

            <!-- String Operations -->
            <div class="demo-card">
              <div class="demo-title">‚ùì String Operations</div>
              <div class="demo-description">String manipulation, concatenation</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'String test' then set greeting to 'Hello' then set name to 'World' then put greeting + ' ' + name into #string-result">
                  Test String Concat
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Template test' then set user to 'Alice' then put 'Welcome, ' + user + '!' into #string-result">
                  Test String Template
                </button>
                <div class="result-display" id="string-result">Testing string operations...</div>
              </div>
            </div>

            <!-- Array Operations -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Array & Collection</div>
              <div class="demo-description">Arrays, iteration, collection handling</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'Array test' then set items to [1, 2, 3] then put items into #array-result">
                  Test Array Creation
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Length test' then set numbers to [10, 20, 30] then put numbers.length into #array-result">
                  Test Array Length
                </button>
                <div class="result-display" id="array-result">Testing array operations...</div>
              </div>
            </div>

            <!-- DOM Queries -->
            <div class="demo-card">
              <div class="demo-title">‚ùì DOM Queries</div>
              <div class="demo-description">Element selection, traversal</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'Query test' then put <.demo-card/>.length into #dom-result">
                  Count .demo-card
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Closest test' then put closest .demo-card's className into #dom-result">
                  Test closest .demo-card
                </button>
                <div class="result-display" id="dom-result">Testing DOM queries...</div>
              </div>
            </div>

            <!-- Type Conversion -->
            <div class="demo-card">
              <div class="demo-title">‚ùì Type Conversion</div>
              <div class="demo-description">as keyword, type casting</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'String conversion test' then set num to 42 then put num as String into #type-result">
                  Test as String
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Number conversion test' then set text to '123' then put text as Number into #type-result">
                  Test as Number
                </button>
                <div class="result-display" id="type-result">Testing type conversions...</div>
              </div>
            </div>

            <!-- Simple Commands That Work -->
            <div class="demo-card">
              <div class="demo-title">‚úÖ Working Commands</div>
              <div class="demo-description">Commands that work with current parsing</div>
              <div class="demo-area">
                <button class="interactive-button"
                        _="on click beep! 'Simple beep test' then put 'Beep works!' into #simple-result">
                  Test Beep + Put
                </button>
                <button class="interactive-button"
                        _="on click beep! 'Log test' then log 'Logging works!'">
                  Test Beep + Log
                </button>
                <div class="result-display" id="simple-result">Testing simple commands...</div>
              </div>
            </div>

            <!-- Compound Syntax Issues -->
            <div class="demo-card">
              <div class="demo-title">‚ùå Compound Syntax Issues</div>
              <div class="demo-description">Commands that fail due to parsing issues</div>
              <div class="demo-area">
                <div style="background: #fef2f2; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                  <strong>üö® Known Issues:</strong><br>
                  ‚Ä¢ <code>put X into #target</code> - "into" parsed as separate command<br>
                  ‚Ä¢ <code>set x to value</code> - "to" parsed as separate keyword<br>
                  ‚Ä¢ <code>trigger event on target</code> - "on" parsed as separate keyword<br>
                  ‚Ä¢ <code>add class to element</code> - "to" parsed as separate keyword<br>
                  ‚Ä¢ <code>remove class from element</code> - "from" parsed as separate keyword
                </div>
                <div style="background: #f0f9ff; padding: 1rem; border-radius: 4px;">
                  <strong>üéØ Root Cause:</strong> Parser treats "into", "to", "on", "from" as separate KEYWORD tokens instead of part of compound command syntax.
                </div>
              </div>
            </div>

            <!-- Test Status Summary -->
            <div class="demo-card" style="grid-column: 1 / -1;">
              <div class="demo-title">üìä Test Status Overview</div>
              <div class="demo-description">Live feature compatibility tracking</div>
              <div class="demo-area">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; text-align: center;">
                  <div>‚úÖ <strong>Basic DOM</strong><br>hide, show, toggle</div>
                  <div>‚ùì <strong>CSS Classes</strong><br>add, remove</div>
                  <div>‚ùì <strong>Content</strong><br>put into targets</div>
                  <div>‚ùì <strong>Events</strong><br>trigger, custom events</div>
                  <div>‚ùì <strong>Variables</strong><br>set, math, expressions</div>
                  <div>‚ùì <strong>Async</strong><br>wait, timing</div>
                  <div>‚ùì <strong>Forms</strong><br>take, values</div>
                  <div>‚ùì <strong>Control Flow</strong><br>if/else, unless</div>
                  <div>‚ùì <strong>Strings</strong><br>concatenation</div>
                  <div>‚ùì <strong>Arrays</strong><br>collections</div>
                  <div>‚ùì <strong>DOM Queries</strong><br>selectors</div>
                  <div>‚ùì <strong>Types</strong><br>as keyword</div>
                </div>
                <div style="margin-top: 1rem; padding: 1rem; background: #f0f9ff; border-radius: 4px;">
                  <strong>Testing Guide:</strong> Click tests systematically. ‚úÖ = Working, ‚ùå = Failed, ‚ùì = Not tested yet
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- Debug Panel -->
  <div class="debug-panel" id="debug-panel">
    <div class="debug-header" 
         _="on click toggle .open from closest .debug-panel">
      <span>üêõ Debug Console (Compound Syntax)</span>
      <span id="debug-toggle">‚ñ≤</span>
    </div>
    <div class="debug-content" id="debug-content">
      <div class="debug-entry">
        <div class="debug-timestamp">System initialized</div>
        <div>üöÄ HyperFixi Demo loaded - watching compound syntax parsing</div>
      </div>
    </div>
  </div>

  <script>
    // Enhanced console logging for debugging compound syntax
    (function() {
      const debugContent = document.getElementById('debug-content');
      const originalConsoleLog = console.log;
      
      function addDebugEntry(level, message, data) {
        const entry = document.createElement('div');
        entry.className = 'debug-entry';
        
        const timestamp = document.createElement('div');
        timestamp.className = 'debug-timestamp';
        timestamp.textContent = new Date().toLocaleTimeString();
        
        const content = document.createElement('div');
        content.style.fontFamily = 'monospace';
        content.style.fontSize = '12px';
        content.style.lineHeight = '1.4';
        
        if (level === 'parser') {
          content.style.color = '#60a5fa'; // Blue for parser
        } else if (level === 'runtime') {
          content.style.color = '#34d399'; // Green for runtime
        } else if (level === 'error') {
          content.style.color = '#f87171'; // Red for errors
        }
        
        content.innerHTML = message;
        if (data) {
          const dataDiv = document.createElement('div');
          dataDiv.style.marginLeft = '10px';
          dataDiv.style.color = '#94a3b8';
          dataDiv.style.fontSize = '11px';
          dataDiv.textContent = JSON.stringify(data, null, 2);
          content.appendChild(dataDiv);
        }
        
        entry.appendChild(timestamp);
        entry.appendChild(content);
        debugContent.appendChild(entry);
        
        // Auto-scroll to bottom
        debugContent.scrollTop = debugContent.scrollHeight;
        
        // Keep only last 50 entries
        while (debugContent.children.length > 50) {
          debugContent.removeChild(debugContent.firstChild);
        }
      }
      
      // Override console.log to capture HyperFixi debug messages
      console.log = function(...args) {
        originalConsoleLog.apply(console, args);
        
        const message = args[0];
        if (typeof message === 'string') {
          if (message.includes('üîç PARSER:') || message.includes('‚úÖ PARSER:') || message.includes('‚ö†Ô∏è PARSER:')) {
            addDebugEntry('parser', message, args[1]);
          } else if (message.includes('üöÄ RUNTIME:') || message.includes('üîç RUNTIME:') || message.includes('‚úÖ RUNTIME:') || message.includes('‚ö†Ô∏è RUNTIME:')) {
            addDebugEntry('runtime', message, args[1]);
          } else if (message.includes('üîç TOKENIZER:') || message.includes('‚úÖ TOKENIZER:')) {
            addDebugEntry('parser', message, args[1]);
          } else if (message.includes('ERROR') || message.includes('FAIL') || message.includes('‚ùå')) {
            addDebugEntry('error', message, args[1]);
          } else if (message.includes('üß™') || message.includes('üìä') || message.includes('üîç Testing')) {
            addDebugEntry('system', message, args[1]);
          }
        }
      };
      
      // Add initial debug message
      addDebugEntry('system', 'üîß Debug console enhanced - tracking compound syntax parsing');
      
      // Auto-open debug panel when there are parser/runtime logs
      let hasShownLogs = false;
      const originalAddDebugEntry = addDebugEntry;
      addDebugEntry = function(level, message, data) {
        originalAddDebugEntry(level, message, data);
        
        if ((level === 'parser' || level === 'runtime') && !hasShownLogs) {
          hasShownLogs = true;
          document.getElementById('debug-panel').classList.add('open');
        }
      };
    })();
  </script>

  <script type="module" src="/src/main.ts"></script>
</body>
</html>
