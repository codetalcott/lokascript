<!DOCTYPE html>
<html>
<head>
    <title>Bundle Test</title>
</head>
<body>
    <h1>Testing Browser Bundle</h1>
    <div id="output"></div>

    <script src="/dist/hyperfixi.js"></script>
    <script>
        const output = document.getElementById('output');

        // Test 1: Check if hyperfixi global exists
        if (typeof hyperfixi !== 'undefined') {
            output.innerHTML += '<p>✅ hyperfixi global exists</p>';
            output.innerHTML += '<p>Keys: ' + Object.keys(hyperfixi).join(', ') + '</p>';

            // Test 2: Check if evalHyperScript exists
            if (typeof hyperfixi.evalHyperScript === 'function') {
                output.innerHTML += '<p>✅ hyperfixi.evalHyperScript is a function</p>';

                // Test 3: Try to execute simple code
                hyperfixi.evalHyperScript('2 + 3').then(result => {
                    output.innerHTML += '<p>✅ Evaluated "2 + 3" = ' + result + '</p>';
                }).catch(err => {
                    output.innerHTML += '<p>❌ Evaluation failed: ' + err.message + '</p>';
                });
            } else {
                output.innerHTML += '<p>❌ hyperfixi.evalHyperScript is not a function</p>';
            }
        } else {
            output.innerHTML += '<p>❌ hyperfixi global does NOT exist</p>';
            output.innerHTML += '<p>window keys: ' + Object.keys(window).slice(0, 20).join(', ') + '...</p>';
        }
    </script>
</body>
</html>
