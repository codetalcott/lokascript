{
  "id": "modal-dialog",
  "name": "Modal Dialog",
  "description": "A modal dialog that can be opened and closed with backdrop and ESC key support",
  "version": "2.0.1",
  "category": "ui-interaction",
  "tags": ["modal", "dialog", "overlay", "popup", "ui"],
  "hyperscript": [
    "on click from .modal-trigger add .show to #{{modalId}}",
    "on click from .modal-close remove .show from #{{modalId}}",
    "on click from .modal-backdrop remove .show from #{{modalId}}",
    "on keydown[key=='Escape'] from document remove .show from #{{modalId}}"
  ],
  "template": {
    "html": "<div id=\"{{modalId}}\" class=\"modal\"><div class=\"modal-backdrop\"></div><div class=\"modal-content\"><button class=\"modal-close\" aria-label=\"Close\">&times;</button>{{modalContent}}</div></div>",
    "variables": {
      "modalId": {
        "type": "string",
        "default": "modal",
        "description": "Unique ID for the modal element"
      },
      "modalContent": {
        "type": "string",
        "description": "HTML content to display in the modal",
        "required": true
      },
      "triggerSelector": {
        "type": "string",
        "default": ".modal-trigger",
        "description": "CSS selector for elements that open the modal"
      }
    },
    "slots": {
      "header": {
        "description": "Modal header content",
        "default": ""
      },
      "body": {
        "description": "Modal body content",
        "required": true
      },
      "footer": {
        "description": "Modal footer content",
        "default": ""
      }
    }
  },
  "dependencies": {
    "css": ["modal.css"],
    "components": ["focus-trap"]
  },
  "configuration": {
    "compilation": {
      "minify": true,
      "compatibility": "modern",
      "sourceMap": false,
      "optimization": true
    },
    "deployment": {
      "environments": ["development", "staging", "production"],
      "frameworks": ["express", "django", "flask", "fastapi", "gin", "vanilla"]
    }
  },
  "metadata": {
    "author": "HyperFixi Team",
    "license": "MIT",
    "repository": "https://github.com/hyperfixi/components",
    "documentation": "https://hyperfixi.dev/docs/components/modal-dialog",
    "keywords": ["modal", "dialog", "popup", "overlay", "ui", "accessibility", "keyboard"],
    "examples": [
      {
        "name": "Simple Modal",
        "description": "Basic modal with trigger button",
        "html": "<button class=\"modal-trigger\" data-target=\"#example-modal\">Open Modal</button><div id=\"example-modal\" class=\"modal\"><div class=\"modal-backdrop\"></div><div class=\"modal-content\"><button class=\"modal-close\">&times;</button><h2>Modal Title</h2><p>This is a simple modal example.</p></div></div>",
        "variables": {
          "modalId": "example-modal",
          "modalContent": "<h2>Modal Title</h2><p>This is a simple modal example.</p>"
        }
      },
      {
        "name": "Confirmation Dialog",
        "description": "Modal used as a confirmation dialog",
        "html": "<button class=\"modal-trigger btn-danger\" data-target=\"#confirm-modal\">Delete Item</button><div id=\"confirm-modal\" class=\"modal\"><div class=\"modal-backdrop\"></div><div class=\"modal-content\"><button class=\"modal-close\">&times;</button><h2>Confirm Deletion</h2><p>Are you sure you want to delete this item?</p><div class=\"modal-actions\"><button class=\"btn btn-danger\">Delete</button><button class=\"btn modal-close\">Cancel</button></div></div></div>",
        "variables": {
          "modalId": "confirm-modal",
          "modalContent": "<h2>Confirm Deletion</h2><p>Are you sure you want to delete this item?</p><div class=\"modal-actions\"><button class=\"btn btn-danger\">Delete</button><button class=\"btn modal-close\">Cancel</button></div>"
        }
      }
    ],
    "created": "2023-10-20T08:45:00Z",
    "updated": "2023-12-01T16:30:00Z"
  },
  "validation": {
    "events": ["click", "keydown"],
    "selectors": [".modal-trigger", ".modal-close", ".modal-backdrop", "#modal"],
    "commands": ["add", "remove"],
    "complexity": 6
  },
  "testing": {
    "unit": [
      {
        "name": "Modal opens on trigger click",
        "description": "Clicking trigger button should show the modal",
        "setup": "<button class=\"modal-trigger\">Open</button><div id=\"modal\" class=\"modal\"></div>",
        "action": "click .modal-trigger",
        "expected": "modal has class 'show'"
      },
      {
        "name": "Modal closes on close button click",
        "description": "Clicking close button should hide the modal",
        "setup": "<div id=\"modal\" class=\"modal show\"><button class=\"modal-close\">Ã—</button></div>",
        "action": "click .modal-close",
        "expected": "modal does not have class 'show'"
      },
      {
        "name": "Modal closes on backdrop click",
        "description": "Clicking backdrop should hide the modal",
        "setup": "<div id=\"modal\" class=\"modal show\"><div class=\"modal-backdrop\"></div></div>",
        "action": "click .modal-backdrop",
        "expected": "modal does not have class 'show'"
      },
      {
        "name": "Modal closes on ESC key",
        "description": "Pressing ESC key should hide the modal",
        "setup": "<div id=\"modal\" class=\"modal show\"></div>",
        "action": "keydown ESC",
        "expected": "modal does not have class 'show'"
      }
    ],
    "integration": [
      {
        "name": "Multiple modals",
        "description": "Multiple modals should work independently",
        "scenario": "Two modals on the same page",
        "steps": [
          "Open first modal",
          "Verify first modal is visible",
          "Open second modal",
          "Verify second modal is visible",
          "Close second modal",
          "Verify only first modal is visible"
        ]
      },
      {
        "name": "Accessibility integration",
        "description": "Modal should work with screen readers and keyboard navigation",
        "scenario": "Modal with focus management",
        "steps": [
          "Open modal",
          "Verify focus moves to modal",
          "Tab through modal elements",
          "Verify focus stays within modal",
          "Press ESC",
          "Verify focus returns to trigger"
        ]
      }
    ]
  }
}